# רעיון תכנון פתרון זרימה לעדכון ממוצעים שעתיים בזמן אמת:
# שמירת מצבים בין אירועים
# ננהל מבנה נתונים בזיכרון שישמור עבור כל שעת זמן את הסכום המצטבר של הערכים, וספירת הערכים שהגיעו עד כה.
#
# קבלת כל נתון חדש (אירוע) - עדכון המצב
# כל פעם שמגיע ערך חדש עם חותמת זמן, נקבע לאיזו שעה הוא שייך (עיגול לחלק השעה), ונוסיף את הערך לסכום ונגדיל את הספירה.
#
# חישוב ממוצע שעתית עכשווי
# הממוצע עבור כל שעה הוא סכום הערכים שחולקו במספרם (סכום / ספירה). ניתן לחשב ולשלוף בכל רגע את הממוצעים עד כה.
#
# ניהול חלון זמן
# נוכל לשמור רק נתונים של השעות האחרונות שחשובות לנו (למשל 24 שעות אחרונות), כדי לא לצבור זיכרון ללא הגבלה.
#
# התמודדות עם השהייה או סדר לא מדויק
# יש לחשוב איך לטפל במקרים שהנתונים מגיעים באיחור או מחוץ לסדר כרונולוגי – למשל לעדכן גם שעות קודמות לפי הצורך.